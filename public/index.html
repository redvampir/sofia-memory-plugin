<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sofia Memory Plugin</title>
</head>
<body>
  <h1>Sofia Memory Plugin</h1>
  <label>GitHub Token:
    <input type="password" id="token">
  </label>
  <button onclick="saveToken()">Save Token</button>
  <script>
    function saveToken() {
      const t = document.getElementById('token').value;
      localStorage.setItem('github_token', t);
      fetch('/setToken', {
        method: 'POST',
        headers: {'Content-Type':'application/json'},
        body: JSON.stringify({token: t})
      });
      alert('Token saved');
    }
    document.addEventListener('DOMContentLoaded', () => {
      const t = localStorage.getItem('github_token');
      if (t) document.getElementById('token').value = t;
    });
  </script>
</body>
</html>
