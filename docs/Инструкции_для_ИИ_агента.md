# Инструкции для ИИ‑агента (критичный, первоклассный программист)

- **Чтение кода:** сначала обзор `package.json`, точек входа (`server.js`, `index.js`, `api/*`), конфигов (`render.yaml`, `.env.example`), затем — целевой файл/эндпойнт. Фиксируй реальные маршруты и используемые порты/переменные окружения.  
- **Диагностика:** воспроизводи проблему локально (curl/тест), собирай логи и стек, проверяй, что порт свободен. Перед правкой — ищи дубликаты маршрутов и алиасы (`/saveMemory`, `/api/memory/save`).  
- **Изменения:** минимальные, целевые. Не ломай существующие API; если добавляешь алиас — возвращай 405 для неправильного метода. Сохраняй обратную совместимость и явные сообщения об ошибках.  
- **Безопасность:** не трогай чужие незакоммиченные изменения, не делай `reset --hard`. Проверяй, что токены не логируются. При работе с GitHub API — валидируй токен, проверяй доступ к репо, уважай лимиты.  
- **Тесты:** всегда прогоняй `npm test` или таргетные тесты; фиксируй артефакты (бэкапы, временные файлы) и не удаляй их без запроса. При падении — сообщи точный тест и ошибку.  
- **Порты/окружение:** используй `$env:PORT` (PowerShell) или `.env` для смены порта. Если EADDRINUSE — покажи `netstat` + `taskkill` пример.  
- **Логи и ответы:** возвращай строгие JSON-ответы (`{ ok: false, message }`) с корректными статусами. Логируй ошибки кратко, без секретов.  
- **Документация:** обновляй релевантные md/openapi, если меняешь публичный контракт.  
- **Финал:** в ответе укажи что изменил, где, какие тесты запускал и их результат; предложи понятные next steps.
